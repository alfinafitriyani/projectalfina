<html lang="en">

<head>
  <title>Program tugas modul 4</title>
</head>

<body>
    <h1>Program Toko Handphone ACell</h1>
    <script>
        function getProductsAmount(productsArr) {
          // Write your code here
          let result = {};
          let listProduk = productsArr.products;

          for (let i = 0; i < listProduk.length; i++) {
            if (result[listProduk[i][0]] === undefined) {
              result[listProduk[i][0]] = listProduk[i][1]
            }
          }
  return result
}

  function getTotalPrice(productsObj) {
    const listProduct = [
    ["Vivo", 27000000],
    ["Samsung", 22500000],
    ["Iphone", 17000000],
    ["Oppo", 28000000],
    ["Xiaomi", 21000000],
];
// Write your code here
    let result = 0
    
      for (let key in productsObj) {
        for (let i = 0; i < listProduct.length; i++) {
          if (key === listProduct[i][0]) {
            result += productsObj[key] * listProduct[i][1]
          }
        }
      }
return result
}
function getDiscount(memberStatus, totalPrice) {
// Write your code here
    let result = 0;
    let discount = 0.1;
    if (memberStatus === true) {
    result = totalPrice - (totalPrice * discount)
} else {
  return totalPrice
}
return result
}

function ACell(customer) {
// write your code here
let productAmount = getProductsAmount(customer)
let totalHarga = getTotalPrice(productAmount)
let diskon = getDiscount(customer.member, totalHarga)
if (customer.member === true) {
return `Hai pelanggan setia ${customer.name}! Total 
Harga yang harus kamu bayar adalah Rp ${diskon}`
} else {
return `Hai ${customer.name}! Total Harga yang harus 
kamu bayar adalah Rp ${totalHarga}`
}
}
  let customer1 = {
  name: "Endah",
  products: [
    ["Vivo", 2],
    ["Realme", 3],
  ],
  memberStatus: false,
};
  let customer2 = {
    name: "Risfana",
    products: [
      ["Iphone", 1],
      ["Oppo", 1],
],
memberStatus: true,
};

  let customer3 = {
    name: "Alba",
    products: [
      ["Xiaomi", 2]
      ["Samsung", 4]
  ],
    memberStatus: false,
};

// TEST CASES
console.log(ACell(customer1));
console.log(ACell(customer2));
console.log(ACell(customer3)); 

//output
document.write(ACell(customer1));
document.write(ACell(customer2));
document.write(ACell(customer3));

        </script>   
    </body>
</html> 